<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chocamo</title>
</head>

<body>
    <h1 class="mantenimiento">En mantenimiento, en instantes volvemos...</h1>
    <img src="imagenes/chocamo.jpg" alt="">
    <audio src="audio/chocamo.mp3" autoplay></audio>

    <div class="audioPrompt" style="display: none;">
        <h1>Rozed quiere reproducir sonido</h1>
        <button onclick="playAudio()">Permitir</button>
    </div>
</body>

<script>

    async function inicio() {
        console.log("uuf");
        try {
            await playAudio()
            document.querySelector(".audioPrompt").style.visibility = "none"
        } catch (error) {
            console.log(error);
            document.querySelector(".audioPrompt").style.display = "flex"
        }
    }

    document.addEventListener("DOMContentLoaded", () => inicio())



    function playAudio() {
        // let audioPrompt = document.querySelector(".audioPrompt");
        // audioPrompt.style.display = "none"
        document.querySelector(".audioPrompt").style.display = "none"
        let audioElement = document.querySelector('audio')

        audioElement.onended = () => {
            console.log("jejessklj");
            audioElement.setAttribute("src", "audio/queHicieronCarajo.mp3")
            audioElement.play()
        }
        return document.querySelector('audio').play()
    }
</script>

<style>
    body {
        display: block;
        background: #cc1d24;
    }

    img {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto auto 0 auto;
        max-height: 100vh;
        min-width: 500px;
        max-width: 100%;
        animation: ani 0.1s infinite;
    }

    h1 {
        color: white;
        font-family: Helvetica;
    }

    .mantenimiento {
        position: fixed;
        z-index: 1;
    }

    .audioPrompt {
        position: absolute;
        display: flex;
        flex-direction: column;
        background: #000000f5;
        justify-content: center;
        align-items: center;
        width: 100vw;
        height: 100vh;
        color: white;
    }

    @keyframes ani {
        0% {
            transform: translateX(10px);
        }

        50% {
            transform: translateX(-10px);
        }

        100% {
            transform: translateX(10px);
        }
    }
</style>

</html>